# GDG Tainan 社群平台產品規格

> **專案名稱**：Neighborhood Helper
> **版本**：v1.0 MVP
> **更新日期**：2026-02-13

---

## 目錄

1. [專案緣起](#專案緣起)
2. [產品定位與目標](#產品定位與目標)
3. [核心功能](#核心功能)
4. [使用者旅程](#使用者旅程)
5. [技術選擇](#技術選擇)
6. [系統架構](#系統架構)
7. [資料設計](#資料設計)
8. [功能模組](#功能模組)
9. [專案組織](#專案組織)

---

## 專案緣起

### 讓科技成為這片土地的養分

溪北，曾文溪以北的這片土地，隨著人口外移、市政南移，正面臨著轉型的挑戰。但仍有一群人選擇回來，為這裡努力——組織店家、協辦燈節、推動各種活動與小聚。

溪北相對純樸，以農漁牧和餐飲業為主，但在科技與 AI 的浪潮中，**我們缺乏技術、缺少人脈，想找夥伴很困難**。這些挑戰不是一個人能解決的，而是需要更多力量的匯聚。

**台南有人情味**，而 GDG Tainan 相信這份溫度可以延伸到科技領域。我們目前由三位組織者經營，想發展出一個不一樣的社群——**不只是技術交流，更是關於這片土地的改變**。

這次與溪北的合作，我們希望為這片土地種下種子——讓溪北的孩子們、年輕人、店家和長輩，都能看見**科技與 AI 不是陌生的東西，而是讓生活更好的工具**。

> **我們相信，社群就是把微小的力量聚在一起，慢慢改變這片土地。**
> 一場小聚、一次分享、一個點子，累積起來就是改變的開始。

### 現實的挑戰

雖然 GDG 有官方平台可以發布活動，但我們面臨幾個問題：

1. **平台限制**
   - 不是所有活動都能發布在 GDG 官方平台（僅限 Google 相關主題）
   - 想跟其他在地社群合作，需要統一的窗口

2. **講者挖掘困難**
   - 台南有很多隱藏的技術人才，但缺乏舞台
   - 新手講者門檻高，不敢踏出第一步
   - 沒有系統化的講者資料庫

3. **參與動力不足**
   - 參加活動沒有明確的回饋機制
   - 無法追蹤個人的成長軌跡
   - 社群凝聚力需要更多激勵

4. **資訊分散**
   - 各種社群活動資訊散落各處
   - 新人不知道從哪裡開始
   - 缺乏統一的社群入口

### 我們想做的事

建立一個**社群活動管理平台**，不只是管理活動，更是：

- **挖掘在地講者** - 讓每個人都有機會分享
- **培養社群文化** - 透過遊戲化機制鼓勵參與
- **串連在地社群** - 成為台南科技社群的統一窗口
- **累積社群資產** - 建立活動與講者的資料庫

---

## 產品定位與目標

### 定位

**一個以人為本、鼓勵分享的社群活動平台**

不是冰冷的報名系統，而是：
- 讓參與者感受到被重視（積分、排行榜、參與記錄）
- 讓講者降低分享門檻（簡單申請、組織者支持）
- 讓組織者輕鬆管理（活動、報名、簽到、講者資料）

### 目標使用者

**組織者（3 人）**
- **目標**：輕鬆管理活動，挖掘與培養講者
- **痛點**：手動管理報名、難以追蹤講者資料、缺乏激勵機制

**潛在講者（台南技術社群）**
- **目標**：找到分享的舞台，建立個人品牌
- **痛點**：不知道去哪分享、擔心主題不夠好、缺乏鼓勵

**參與者（台南科技愛好者）**
- **目標**：學習新知、認識同好、參與社群
- **痛點**：不知道有哪些活動、參與沒有回饋、缺乏歸屬感

### 核心價值主張

| 角色 | 價值主張 |
|------|---------|
| **組織者** | 一個平台搞定活動管理、報名、簽到、講者資料，專注在社群經營 |
| **講者** | 輕鬆申請分享、累積個人記錄、獲得認可（積分、排行榜） |
| **參與者** | 發現有趣活動、追蹤學習成長、感受社群歸屬感 |

### 成功指標

**量化指標**：
- 活動報名轉換率 > 60%
- 講者申請數量：每場活動至少 2 位
- 使用者回訪率 > 40%（每月至少參加一次活動）
- 積分系統參與度：80% 使用者查看過排行榜

**質化指標**：
- 挖掘出至少 10 位新講者（首次分享）
- 使用者反饋：感受到社群溫度
- 與至少 3 個在地社群合作

---

## 核心功能

### 功能地圖

```
┌─────────────────────────────────────────────────┐
│              Neighborhood Helper                 │
└─────────────────────────────────────────────────┘
                       │
      ┌────────────────┼────────────────┐
      ▼                ▼                ▼
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 活動管理  │    │ 社群激勵  │    │ 講者培養  │
└──────────┘    └──────────┘    └──────────┘
      │                │                │
      ├─ 發布活動      ├─ 積分系統      ├─ 講者申請
      ├─ 報名管理      ├─ 排行榜        ├─ 講者資料庫
      ├─ QR 簽到      ├─ 參與熱力圖    ├─ 分享記錄
      └─ 活動記錄      └─ 個人成就      └─ 組織者審核
```

### MVP 範圍（第一版）

**必須有**：
- 活動列表與詳情頁
- Google 登入
- 報名活動（含容量限制）
- 取消報名
- QR Code 簽到
- 積分系統（參加 +10 分、講者 +50 分）
- 排行榜（月榜、總榜）
- 講者申請與審核
- 個人資料頁（我的積分、參與記錄）

**下一版**：
- Email 通知（報名成功、活動提醒）
- 參與熱力圖（GitHub 風格）
- 成就徽章
- Line/Slack 整合
- 禮物兌換系統

**不做**：
- 複雜的權限系統（暫時只有組織者/會員）
- 活動評論/評分
- 社交功能（追蹤、私訊）
- 多語系

---

## 使用者旅程

### 旅程 1：參加者報名活動

> 小明（軟體工程師）想學習 AI 開發

1. **發現活動**：小明在網路上看到「GDG Tainan - Build with AI」活動連結
2. **瀏覽詳情**：點進活動頁面，看到活動時間、地點、講者、目前報名人數（45/50）、參加可獲得 10 積分
3. **登入報名**：點擊「我要報名」→ Google 登入 → 確認報名
4. **收到確認**：頁面顯示報名成功，附上 QR Code 入場券（可儲存到手機），活動加入「我的活動」列表
5. **活動當天**：到現場 → 出示 QR Code → 組織者掃描 → 簽到成功
6. **活動結束**：組織者標記活動結束 → 系統自動發放 10 積分 → 排行榜更新
7. **查看成長**：個人頁面顯示總積分、參加場數、本月排名、參與熱力圖

### 旅程 2：講者申請分享

> 小華（前端工程師）想分享 React 19 的新功能

1. **看到徵求講者**：瀏覽活動列表，看到「三月小聚 - 徵求講者」
2. **點擊申請**：點「我想分享」→ 填寫主題、描述、預計時長（首次申請自動建立講者資料）
3. **等待審核**：狀態顯示「審核中」
4. **審核通過**：組織者審核通過 → 小華收到通知 → 自動報名該活動 → 講者資料標記為 verified
5. **活動當天**：小華完成分享 → 組織者掃描簽到
6. **獲得獎勵**：活動結束 → 獲得 50 積分 → 個人頁面顯示「分享 1 場」

### 旅程 3：組織者管理活動

> 組織者 Alice 要舉辦新活動

1. **建立活動**：登入 → 組織者後台 → 填寫活動資訊（標題、時間、地點、容量）→ 勾選「徵求講者」→ 發布
2. **審核講者申請**：收到 3 個講者申請 → 查看內容 → 通過 2 個、婉拒 1 個
3. **活動當天簽到**：用手機打開簽到頁面 → 掃描參加者 QR Code → 系統顯示參加者資訊 → 標記出席
4. **結束活動**：點擊「結束活動」→ 系統自動發放積分、更新排行榜、記錄講者分享
5. **查看數據**：報名 48 人、實際出席 42 人、出席率 87.5%

---

## 技術選擇

> 這部分解釋我們選擇的技術工具，以及為什麼選它們。開發者可以看詳細說明，PM 可以快速瀏覽重點。

### 技術棧總覽

| 類別 | 技術 | 用途 |
|------|------|------|
| **前端框架** | Next.js 14 + React + TypeScript | 前後端整合框架 |
| **樣式** | Tailwind CSS + shadcn/ui | 快速刻出好看介面 |
| **後端** | Next.js API Routes | API 邏輯處理 |
| **ORM** | Prisma | 型別安全的資料庫操作 |
| **資料庫** | PostgreSQL（Supabase 託管） | 資料儲存 |
| **認證** | NextAuth.js | Google OAuth 登入 |
| **Email** | Resend + React Email | 通知信件 |
| **部署** | Vercel | 自動部署、全球 CDN |

### 為什麼選擇這些技術？

#### 1. Next.js 14（前端 + 後端框架）

**一句話**：一個框架同時搞定前端和後端，加速開發。

**什麼是 Next.js？**
由 React 官方推薦的全端框架，讓你用 React 寫前端，同時提供後端 API 功能。

**為什麼選它？**
- **開發速度快**：前後端在同一個專案，不用分開管理
- **學習曲線友善**：只要會 React/TypeScript，就能做全端開發
- **效能好**：內建伺服器渲染（SSR）和靜態生成（SSG），載入速度快
- **部署簡單**：配合 Vercel 一鍵部署

**用在哪裡？**
- 前端：活動列表頁、活動詳情頁、個人資料頁
- 後端：報名 API、簽到 API、積分計算 API

#### 2. TypeScript（程式語言）

**一句話**：讓 JavaScript 有型別檢查，減少 bug。

**為什麼選它？**
- **抓錯早**：寫的時候就知道哪裡錯，不用等執行才發現
- **好維護**：程式碼有型別，其他人（或未來的你）更容易理解
- **開發體驗好**：IDE 會自動提示，寫得更快

#### 3. Tailwind CSS + shadcn/ui（樣式）

**一句話**：快速刻出好看的介面，不用從零開始設計。

- **Tailwind CSS**：工具類別（utility-first）的 CSS 框架，不用寫 CSS 檔案，直接在 HTML 加 class（例如：`<div class="bg-blue-500 text-white p-4">`）
- **shadcn/ui**：高品質的 React 元件庫。不是 npm install，而是**複製元件程式碼到你的專案**，完全可控，包含按鈕、表單、對話框、表格等常用元件

**為什麼選它們？**
- **省時間**：不用從零設計 UI，專注功能開發
- **一致性**：所有頁面風格統一
- **可自訂**：shadcn/ui 的程式碼在你手上，要改就改

#### 4. Prisma（資料庫 ORM）

**一句話**：用 TypeScript 操作資料庫，不用寫 SQL。

**什麼是 ORM？** Object-Relational Mapping，讓你用程式碼的方式操作資料庫。

**為什麼選 Prisma？**
- **型別安全**：資料庫結構變更，TypeScript 會自動提示
- **好寫好讀**：程式碼像在操作物件，不是寫 SQL
- **Migration 方便**：資料庫結構變更有版本控制

**範例**：

```typescript
// 不用寫 SQL
const events = await prisma.event.findMany({
  where: { status: 'PUBLISHED' },
  orderBy: { startTime: 'asc' }
})
// Prisma 自動產生對應的 SQL 查詢
```

#### 5. PostgreSQL（資料庫）

**一句話**：穩定可靠的關聯式資料庫，免費託管在 Supabase。

**為什麼選它？**
- **成熟穩定**：全世界最多人用的開源資料庫之一
- **功能強大**：支援複雜查詢、Transaction、索引
- **免費託管**：Supabase 提供免費的 PostgreSQL 託管，額度對小專案夠用

#### 6. NextAuth.js（認證系統）

**一句話**：處理登入登出，支援 Google OAuth。

**為什麼選它？**
- **整合簡單**：幾行程式碼就能加上 Google 登入
- **安全**：處理 Session、CSRF 等安全問題
- **彈性**：之後要加其他登入方式（Email、GitHub）也容易

#### 7. Resend + React Email（Email 通知）

**一句話**：用 React 寫 Email 模板，輕鬆發送漂亮的郵件。

**為什麼選它們？**
- **React Email**：用 React 寫 Email 模板，像寫網頁一樣
- **Resend**：現代化的 Email API，設定簡單、送達率高
- **開發體驗好**：可以預覽 Email 長什麼樣

#### 8. Vercel（部署平台）

**一句話**：Next.js 的最佳搭配，Git push 就自動部署。

**為什麼選它？**
- **零設定**：連結 GitHub，push 就自動部署
- **免費額度高**：個人專案/小團隊完全免費
- **效能好**：全球 CDN，台灣訪問速度快
- **Preview 環境**：每個 PR 都有獨立的預覽網址

### 技術選擇的核心原則

| 面向 | 重點 | 範例 |
|------|------|------|
| **開發速度** | 快速上線 | Next.js 生態成熟、shadcn/ui 省時間、Vercel 零部署成本 |
| **學習價值** | 工作會用 | TypeScript 必學、React 主流、Prisma 好上手 |
| **長期維護** | 容易維護 | 社群支援度高、文件完整、更新活躍 |

---

## 系統架構

### 第一層：概念架構（給所有人）

這是系統的高層次視圖，說明各部分如何協作。

```
┌─────────────────────────────────────────────────┐
│              使用者（瀏覽器/手機）                │
└────────────────────┬────────────────────────────┘
                     │ HTTPS
                     ▼
┌─────────────────────────────────────────────────┐
│                  網頁應用程式                     │
│                                                  │
│  ┌──────────────┐          ┌──────────────┐    │
│  │   介面層     │◄────────►│   邏輯層     │    │
│  │ • 活動列表   │          │ • 報名邏輯   │    │
│  │ • 個人頁面   │          │ • 積分計算   │    │
│  │ • 報名按鈕   │          │ • 權限檢查   │    │
│  └──────────────┘          └──────┬───────┘    │
│                                   │             │
└───────────────────────────────────┼─────────────┘
                                    │
                                    ▼
                    ┌───────────────────────────┐
                    │        資料庫             │
                    │  • 使用者、活動資料       │
                    │  • 報名記錄、積分記錄     │
                    └───────────────────────────┘
```

**說明**：
- **使用者**：透過瀏覽器或手機訪問
- **介面層**：使用者看到的頁面和按鈕
- **邏輯層**：處理業務規則（例如：檢查活動是否額滿）
- **資料庫**：儲存所有資料

### 第二層：技術架構（給開發者）

這是實際的技術實作，說明用什麼技術做什麼。

```
┌─────────────────────────────────────────────────┐
│              Browser / Mobile (React App)        │
└────────────────────┬────────────────────────────┘
                     │ HTTPS
                     ▼
            ┌────────────────┐
            │  Vercel Edge   │ ← 全球 CDN
            │    Network     │
            └────────┬───────┘
                     │
                     ▼
┌─────────────────────────────────────────────────┐
│           Next.js 14 Application                 │
│                                                  │
│  ┌──────────────────────────────────────┐      │
│  │         App Router (Pages)           │      │
│  │  ┌─────────────┐   ┌─────────────┐ │      │
│  │  │   Server    │   │   Client    │ │      │
│  │  │ Components  │   │ Components  │ │      │
│  │  └─────────────┘   └─────────────┘ │      │
│  └────────────────────┬────────────────┘      │
│                       │                        │
│  ┌────────────────────▼────────────────┐      │
│  │         API Routes                  │      │
│  │  • POST /api/events/[id]/register  │      │
│  │  • POST /api/registrations/checkin │      │
│  │  • GET  /api/leaderboard           │      │
│  └────────────────┬────────────────────┘      │
│                   │                            │
│  ┌────────────────▼────────────────┐          │
│  │      Prisma ORM Client          │          │
│  └────────────────┬────────────────┘          │
└───────────────────┼─────────────────────────────┘
                    │
        ┌───────────┼───────────┬───────────┐
        ▼           ▼           ▼           ▼
  ┌──────────┐ ┌─────────┐ ┌────────┐ ┌────────┐
  │PostgreSQL│ │NextAuth │ │ Resend │ │ QR Gen │
  │(Supabase)│ │(Google  │ │(Email) │ │        │
  │          │ │ OAuth)  │ │        │ │        │
  └──────────┘ └─────────┘ └────────┘ └────────┘
```

**元件說明**：

| 元件 | 作用 | 技術 |
|------|------|------|
| **Server Components** | 在伺服器渲染，載入快，SEO 好 | Next.js 14 |
| **Client Components** | 在瀏覽器執行，處理互動（按鈕、表單） | React + TypeScript |
| **API Routes** | 後端 API，處理報名、簽到等邏輯 | Next.js API Routes |
| **Prisma ORM** | 操作資料庫的介面 | Prisma |
| **PostgreSQL** | 資料庫，存放所有資料 | Supabase 託管 |
| **NextAuth** | 處理 Google 登入 | NextAuth.js |
| **Resend** | 發送 Email 通知 | Resend API |

### 資料流範例：使用者報名活動

1. 使用者點「報名」按鈕
2. Client Component 發送 `POST /api/events/123/register`
3. API Route 處理：NextAuth 檢查登入 → Zod 驗證輸入 → Prisma 查詢容量 → 建立報名記錄（Transaction）→ 生成 QR Code
4. Resend 發送確認信
5. 回傳結果給前端
6. 頁面顯示成功訊息（Toast）

### 部署架構

| | 開發環境 | 生產環境 |
|---|---|---|
| **網址** | localhost:3000 | https://gdg-tainan.com |
| **資料庫** | 本機 PostgreSQL | Supabase PostgreSQL |
| **環境變數** | `.env.local` | Vercel Dashboard |

```
┌─────────────────────────────────────┐
│           GitHub                    │
│                                     │
│  main branch → 自動部署到 Production │
│  feature/* → 產生 Preview URL       │
└─────────────────────────────────────┘
```

**部署流程**：開發者 push 到 GitHub → Vercel 自動偵測 → 建置（Next.js build）→ 部署到全球 CDN → 通知結果

**環境變數管理**：
- 本機：`.env.local`（不提交到 Git）
- 生產：Vercel Dashboard 設定
- 包含：DATABASE_URL、GOOGLE_CLIENT_ID、RESEND_API_KEY 等

---

## 資料設計

### 核心實體關係

```
┌──────────┐                    ┌──────────┐
│   User   │                    │  Event   │
│  使用者   │                    │   活動   │
└────┬─────┘                    └────┬─────┘
     │                               │
     │  報名                         │  包含
     │  (Registration)               │  (SpeakerSlot)
     │         ┌─────────────────────┘
     │         │
     ▼         ▼
┌─────────────────┐
│  Registration   │
│    報名記錄     │
└─────────────────┘
     │
     │ 參加者身份
     ▼
┌──────────┐        關聯        ┌──────────────┐
│  User    │◄──────────────────►│   Speaker    │
│  使用者  │       1:1           │  講者資料    │
└──────────┘                     └──────┬───────┘
                                        │
                                        │ 申請分享
                                        ▼
                                 ┌──────────────┐
                                 │ SpeakerSlot  │
                                 │  講者申請    │
                                 └──────────────┘
```

### 實體說明

#### User（使用者）

**用途**：存放所有使用者資料

**核心欄位**：
- `id` - 唯一識別碼
- `email` - 登入信箱
- `name` - 使用者名稱
- `role` - 角色（ADMIN 組織者 / MEMBER 會員）
- `points` - 累積積分

**關係**：
- 可以報名多個活動（Registration）
- 可以建立活動（如果是組織者）
- 可以成為講者（Speaker，1:1 關係）

#### Event（活動）

**用途**：存放活動資訊

**核心欄位**：
- `id` - 唯一識別碼
- `title` - 活動標題
- `description` - 活動描述
- `startTime` / `endTime` - 開始/結束時間
- `location` - 地點
- `capacity` - 容量限制
- `status` - 狀態（DRAFT 草稿 / PUBLISHED 已發布 / ENDED 已結束 / CANCELLED 已取消）

**關係**：
- 由一個組織者建立
- 可以有多個報名（Registration）
- 可以有多個講者申請（SpeakerSlot）

#### Registration（報名記錄）

**用途**：記錄誰報名了哪個活動

**核心欄位**：
- `id` - 唯一識別碼
- `userId` / `eventId` - 報名者與活動
- `qrToken` - QR Code 簽到 token
- `attended` - 是否已簽到
- `attendedAt` - 簽到時間
- `pointsAwarded` - 是否已發放積分

**約束**：同一個人不能報名同一個活動兩次（unique constraint）

#### Speaker（講者資料）

**用途**：存放講者的個人資料

**核心欄位**：
- `userId` - 關聯的使用者（1:1）
- `bio` - 個人簡介
- `expertise` - 專長領域（陣列，例如：["React", "TypeScript"]）
- `contact` - 聯絡方式
- `isVerified` - 是否已分享過至少一次

**特性**：首次申請分享時自動建立，分享過一次後標記為 verified

#### SpeakerSlot（講者申請）

**用途**：記錄講者申請哪個活動的分享

**核心欄位**：
- `id` - 唯一識別碼
- `speakerId` / `eventId` - 講者與活動
- `topic` - 分享主題
- `description` - 主題描述
- `status` - 狀態（PENDING 待審核 / APPROVED 已通過 / REJECTED 已拒絕）

**約束**：同一個講者不能申請同一個活動兩次

### 資料流動

**報名流程**：

1. 使用者首次登入 → 建立 User 記錄
2. 報名活動 → 建立 Registration 記錄（含 QR Token）
3. 簽到掃描 QR Code → 標記 `attended = true`
4. 活動結束 → 系統發放積分 → 更新 `User.points` → 更新排行榜快取

**講者申請流程**：

1. 使用者申請分享 → 檢查是否有 Speaker 記錄（無則建立）→ 建立 SpeakerSlot
2. 組織者審核 → 通過（`status = APPROVED`，自動報名該活動）或拒絕（`status = REJECTED`）
3. 活動結束 → 講者獲得 50 積分 → `Speaker.isVerified = true`

---

## 功能模組

### Module 1: 認證與權限

**目標**：讓使用者可以安全地登入，並根據角色看到不同功能。

**功能**：
- Google OAuth 登入
- 自動建立使用者資料
- Session 管理
- 角色辨識（組織者 vs 一般會員）

**使用者體驗**：
- 點「登入」→ Google 授權頁面 → 授權後自動回到網站
- 登入後看到自己的名字和大頭照
- 組織者可以看到「管理後台」入口

**解決的問題**：
- 不需要記密碼（用 Google 帳號）
- 安全性由 Google 處理
- 避免假冒身份

---

### Module 2: 活動管理

**目標**：讓組織者輕鬆建立和管理活動，讓參加者輕鬆瀏覽。

**給所有人**：
- 瀏覽活動列表（依時間排序）
- 篩選活動（即將舉辦、已結束）
- 查看活動詳情（時間、地點、講者、剩餘名額）

**給組織者**：
- 建立活動（表單填寫）
- 編輯活動資訊
- 設定容量限制
- 勾選「徵求講者」
- 標記活動為「已結束」（觸發積分發放）

**使用者體驗**：
- 活動列表清楚顯示：活動封面、標題、時間、地點、報名狀態（45/50）、徵求講者標記
- 活動詳情頁：完整資訊、講者介紹、報名按鈕（如果未額滿）

**解決的問題**：
- 組織者不用手動管理 Google 表單
- 參加者一眼看出哪些活動可報名
- 避免超收（容量控制）

---

### Module 3: 報名系統

**目標**：讓參加者輕鬆報名活動，並獲得 QR Code 入場券。

**功能**：
- 報名活動（需登入）
- 檢查容量限制
- 防止重複報名
- 生成唯一 QR Code
- 取消報名
- 查看我的報名列表

**使用者體驗**：
- 點「報名」→ 確認對話框 → 報名成功
- 畫面顯示 QR Code（可儲存到手機）
- 「我的活動」頁面看到所有報名記錄
- 可以取消報名（活動開始前）

**技術亮點**：
- 使用 **Prisma Transaction** 確保容量檢查和報名建立的原子性
- 生成加密的 QR Token 防止偽造

---

### Module 4: QR Code 簽到

**目標**：讓組織者快速確認參加者出席。

**功能**：
- 組織者掃描參加者的 QR Code
- 驗證 QR Code 有效性
- 標記出席
- 顯示參加者資訊

**使用者體驗**：
- 組織者打開「簽到頁面」→ 用手機鏡頭掃描 QR Code → 畫面立即顯示參加者姓名和簽到成功（或錯誤訊息）

**技術亮點**：
- QR Code 包含：`{ registrationId, token }`
- Token 是隨機生成的 64 字元字串
- 掃描時驗證 token 是否匹配

---

### Module 5: 積分系統

**目標**：透過積分鼓勵參與和分享。

**功能**：
- 自動發放積分：參加活動 +10 分、擔任講者 +50 分
- 活動結束後統一發放
- 個人積分查詢與歷史記錄

**使用者體驗**：
- 活動結束後積分自動增加
- 個人頁面顯示：總積分、參加場數、分享場數

**規則**：
- 必須實際出席才有積分（不是報名就有）
- 講者同時是參加者，但只算講者積分（50 分）
- 活動取消不發放積分

---

### Module 6: 排行榜

**目標**：公開展示活躍成員，創造良性競爭。

**功能**：
- 總排行榜（Top 10）
- 月排行榜（本月 Top 10）
- 顯示：排名、姓名、積分、參加次數

**使用者體驗**：
- 首頁或獨立頁面
- 清楚的排行榜表格
- 自己的排名會高亮顯示

**技術考量**：
- 排行榜資料會快取（避免每次都計算）
- 活動結束後更新

---

### Module 7: 講者系統

**目標**：降低分享門檻，挖掘潛力講者。

**給使用者**：
- 申請分享（填寫主題、描述、預計時長）
- 首次申請自動建立講者資料
- 維護個人講者資料（專長、簡介、聯絡方式）
- 查看申請記錄與分享記錄

**給組織者**：
- 查看所有講者申請
- 審核申請（通過/拒絕，拒絕可附原因）
- 瀏覽講者資料庫（搜尋、篩選）
- 查看講者歷史表現

**設計理念**：
- **低門檻**：任何人都可以申請
- **有審核**：確保主題品質
- **累積資產**：建立講者資料庫
- **鼓勵成長**：分享過的人標記為 verified

---

### Module 8: 個人中心

**目標**：讓使用者看到自己的參與記錄和成長軌跡。

**功能**：
- 查看個人資料
- 顯示總積分、本月排名
- 列出參與過的活動
- 列出分享過的活動（如果是講者）
- 參與熱力圖（類似 GitHub Contributions）

**使用者體驗**：

```
┌─────────────────────────────────┐
│  小明                           │
│  總積分：120 分                 │
│  本月排名：#5                   │
│                                 │
│  參與記錄：                     │
│  ✓ 2026-03-15  Build with AI   │
│  ✓ 2026-02-20  React 小聚      │
│  ...                            │
│                                 │
│  2026 參與熱力圖：              │
│  ■ ■ □ ■ □ □ ■ ■ □ ...       │
└─────────────────────────────────┘
```

---

## 專案組織

### 檔案結構

```
neighborhodd-helper/
│
├── app/                          # Next.js 14 App Router
│   ├── (auth)/                   # 認證相關頁面
│   │   └── login/
│   │
│   ├── (public)/                 # 公開頁面（未登入可看）
│   │   ├── events/               # 活動列表與詳情
│   │   └── leaderboard/          # 排行榜
│   │
│   ├── (dashboard)/              # 需登入的頁面
│   │   ├── profile/              # 個人中心
│   │   ├── my-events/            # 我的活動
│   │   └── speaker/              # 講者相關
│   │
│   ├── (admin)/                  # 組織者專區
│   │   ├── events/               # 活動管理
│   │   ├── speakers/             # 講者管理
│   │   └── checkin/              # 掃描簽到
│   │
│   └── api/                      # API Routes
│       ├── auth/                 # NextAuth
│       ├── events/               # 活動相關 API
│       ├── registrations/        # 報名相關 API
│       ├── speakers/             # 講者相關 API
│       └── leaderboard/          # 排行榜 API
│
├── components/                   # React 元件
│   ├── ui/                       # shadcn/ui 元件
│   └── features/                 # 功能元件
│       ├── events/
│       ├── registration/
│       ├── speaker/
│       └── leaderboard/
│
├── lib/                          # 工具與設定
│   ├── db/                       # 資料庫相關
│   │   └── prisma.ts             # Prisma Client
│   ├── auth/                     # 認證相關
│   │   └── config.ts             # NextAuth 設定
│   ├── validations/              # Zod Schemas
│   └── utils/                    # 通用工具
│
├── prisma/                       # Prisma ORM
│   ├── schema.prisma             # 資料模型
│   └── migrations/               # Migration 歷史
│
├── openspec/                     # OpenSpec 工作目錄
│   ├── changes/                  # 開發中的 changes
│   └── specs/                    # 主規格
│
└── public/                       # 靜態檔案
    └── images/
```

### 為什麼這樣組織？

#### Route Groups `()`

Next.js 14 的 Route Groups 讓我們用資料夾組織路由，但不影響 URL：

```
app/(auth)/login/page.tsx    → /login
app/(public)/events/page.tsx → /events
app/(admin)/events/page.tsx  → /admin/events
```

好處：相關頁面放一起、可以共用 layout、URL 保持簡潔

#### API Routes 結構

```
api/
  events/
    route.ts                    # GET /api/events (列表)
                                # POST /api/events (建立)
    [id]/
      route.ts                  # GET /api/events/123
                                # PUT /api/events/123
                                # DELETE /api/events/123
      register/
        route.ts                # POST /api/events/123/register
```

好處：RESTful 風格、清楚的階層關係、容易找到對應的 API

#### Components 分層

```
components/
  ui/                    # 純 UI 元件（shadcn/ui）
    ├── button.tsx
    └── dialog.tsx

  features/              # 功能元件（有業務邏輯）
    ├── events/
    │   ├── event-card.tsx
    │   └── event-list.tsx
    └── registration/
        └── register-button.tsx
```

好處：UI 元件可重用、功能元件按模組分類、職責清楚

#### Lib 資料夾

集中放工具函式和設定：

```
lib/
  db/prisma.ts           # Prisma Client 單例
  auth/config.ts         # NextAuth 設定
  validations/           # Zod Schemas
  utils/                 # 通用工具函式
```

好處：避免重複建立 Prisma Client、集中管理設定、容易引用

---

**下一步**：請閱讀 [開發指南（DEV_GUIDE.md）](./DEV_GUIDE.md) 了解如何使用 AI 協作開發這個專案。
